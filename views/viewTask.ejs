<%- include("partials/header"); %>


<h1>Your Tasks</h1>
<div style="display: flex; justify-content: space-around; gap: 2rem;">
    <a href="/tasks?state=pending">View Pending Tasks</a>
    <a href="/tasks?state=completed">View Completed Tasks</a>
    <a href="/tasks">View All Tasks</a>
</div>

<% if (tasks) { %>
    <% tasks.forEach((task) => { %>
        <div>
            <h2><%= task.title %></h2><a href="/tasks/<%= task._id %>/edit"><%= task.state %></a>
            <% if (task.description) { %>
                <p><%= task.description %></p>
            <% } %>
            <form action="/tasks/<%= task._id %>?_method=DELETE" method="POST">
                <input type="submit" value="Delete">
            </form>
        </div>
    <% }) %>

<% } %>


<a href="/tasks">Create Task</a>
<a href="/auth/log_out">Log Out</a>

<%- include("partials/footer"); %>